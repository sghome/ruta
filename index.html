<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <title>Logo</title>
    <style>
        body {
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        canvas {
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <script>
        let dim = 800;
        let pathRes = 30;
        let lineWeight = 0.1875;
        let colours = [[5/255, 100/255, 1], [30/255, 50/255, 170/255], [130/255, 175/255, 1]];

        function setup() {
            createCanvas(dim, dim);
            drawLogo();
        }

        function drawLogo() {
            background(242, 247, 255);
            noStroke();

            let bezControlPoints = [[0, -0.75], [0.75, -0.75], [0.75, 0.25], [0, 0.25]];
            let stemPoints = [[-0.75, 0.5], [0, -0.5]];
            let dashPoints = [[-0.75, -0.25], [-0.5, 0.25]];
            let paths = [
                Array.from({ length: pathRes }, (_, i) => ({
                    point: bezP(bezControlPoints, i / (pathRes - 1)),
                    normal: flip(normalise(bezT(bezControlPoints, i / (pathRes - 1)))),
                })),
                Array.from({ length: pathRes }, (_, i) => ({
                    point: lerpVec(stemPoints[0], stemPoints[1], i / (pathRes - 1)),
                    normal: flip(normalise(dirVec(stemPoints))),
                })),
                Array.from({ length: pathRes }, (_, i) => ({
                    point: lerpVec(dashPoints[0], dashPoints[1], i / (pathRes - 1)),
                    normal: flip(normalise(dirVec(dashPoints))),
                }))
            ];

            let bounds = paths.map(p => genBounds(p, lineWeight));

            bounds.forEach((b, bi) => {
                fill(colours[bi]);
                beginShape();
                b.forEach(p => vertex(...p));
                endShape(CLOSE);
            });
        }

        function bezP(points, t) {
            let [a, b, c, d] = points;
            return [
                bez(a[0], b[0], c[0], d[0], t),
                bez(a[1], b[1], c[1], d[1], t)
            ];
        }

        function bezT(points, t) {
            let [a, b, c, d] = points;
            return [
                bezTangent(a[0], b[0], c[0], d[0], t),
                bezTangent(a[1], b[1], c[1], d[1], t)
            ];
        }

        function bez(a, b, c, d, t) {
            return Math.pow(1 - t, 3) * a + 3 * Math.pow(1 - t, 2) * t * b + 3 * (1 - t) * Math.pow(t, 2) * c + Math.pow(t, 3) * d;
        }

        function bezTangent(a, b, c, d, t) {
            return -3 * Math.pow(1 - t, 2) * a + 3 * Math.pow(1 - t, 2) * b - 6 * t * (1 - t) * b - 3 * Math.pow(t, 2) * c + 6 * t * (1 - t) * c + 3 * Math.pow(t, 2) * d;
        }

        function lerpVec(a, b, t) {
            return [
                lerp(a[0], b[0], t),
                lerp(a[1], b[1], t)
            ];
        }

        function dirVec(points) {
            return [
                points[1][0] - points[0][0],
                points[1][1] - points[0][1]
            ];
        }

        function normalise(vec) {
            let [x, y] = vec;
            let l = Math.sqrt(x * x + y * y);
            return l === 0 ? [x, y] : [x / l, y / l];
        }

        function flip(vec) {
            return [-vec[1], vec[0]];
        }

        function genBounds(path, weight) {
            let bounds = [];
            for (let i = 0; i < path.length; i++) {
                let [p, n] = [path[i].point, path[i].normal];
                let line = [p[0] + n[0] * weight, p[1] + n[1] * weight];
                bounds.push(line);
            }
            for (let i = path.length - 1; i >= 0; i--) {
                let [p, n] = [path[i].point, path[i].normal];
                let line = [p[0] - n[0] * weight, p[1] - n[1] * weight];
                bounds.push(line);
            }
            return bounds;
        }
    </script>
</body>
</html>
